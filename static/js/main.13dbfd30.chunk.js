(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(2),s=n.n(o),r=(n(15),n(16),n(3)),c=n(4),d=n(7),h=n(5),l=n(8),u=(n(17),n(6)),m=n.n(u),v=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).videoElement=i.a.createRef(),n.canvasElement=i.a.createRef(),n.canvas=null,n.state={ready:!1,loadingMessage:"\ud83c\udfa5 Unable to access video stream (please make sure you have a webcam enabled)",codeFound:!1,qrCodeValue:""},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.canvas=this.canvasElement.current.getContext("2d"),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(function(t){e.videoElement.current.srcObject=t,e.videoElement.current.play(),requestAnimationFrame(function(){return e.tick()})})}},{key:"drawLine",value:function(e,t){this.canvas.beginPath(),this.canvas.moveTo(e.x,e.y),this.canvas.lineTo(t.x,t.y),this.canvas.lineWidth=4,this.canvas.strokeStyle="#FF3B58",this.canvas.stroke()}},{key:"tick",value:function(){var e=this;if(this.setState({loadingMessage:"\u231b Loading video..."}),this.videoElement.current.readyState===this.videoElement.current.HAVE_ENOUGH_DATA&&this.setState({ready:!0}),this.canvasElement.current.height=this.videoElement.current.videoHeight,this.canvasElement.current.width=this.videoElement.current.videoWidth,this.canvas.drawImage(this.videoElement.current,0,0,this.canvasElement.current.width,this.canvasElement.current.height),this.canvasElement.current.width>0&&this.canvasElement.current.height>0){var t=this.canvas.getImageData(0,0,this.canvasElement.current.width,this.canvasElement.current.height),n=m()(t.data,t.width,t.height,{inversionAttempts:"dontInvert"});n?(this.drawLine(n.location.topLeftCorner,n.location.topRightCorner),this.drawLine(n.location.topRightCorner,n.location.bottomRightCorner),this.drawLine(n.location.bottomRightCorner,n.location.bottomLeftCorner),this.drawLine(n.location.bottomLeftCorner,n.location.topLeftCorner),this.setState({codeFound:!0}),this.setState({qrCodeValue:n.data})):this.setState({codeFound:!1})}requestAnimationFrame(function(){return e.tick()})}},{key:"render",value:function(){return i.a.createElement("div",{id:"main-qr"},i.a.createElement("h1",null,"jsQr Demo"),i.a.createElement("a",{id:"githubLink",href:"https://github.com/cozmo/jsQR"},"See jsQR on Githubs"),i.a.createElement("p",null,"React QR code decoding. Ready"," ",String(this.state.ready)),i.a.createElement("div",{id:"loading-message",className:this.state.ready?"hidden":""},this.state.loadingMessage),i.a.createElement("canvas",{ref:this.canvasElement,id:"canvas",className:this.state.ready?"":"hidden"}),i.a.createElement("div",{id:"output",className:this.state.ready?"":"hidden"},i.a.createElement("div",{id:"outputMessage",className:this.state.codeFound?"hidden":""},"No QR code detected."),i.a.createElement("div",{className:this.state.codeFound?"":"hidden"},i.a.createElement("b",null,"Data:")," ",i.a.createElement("span",{id:"outputData"},this.state.qrCodeValue))),i.a.createElement("video",{ref:this.videoElement,playsInline:!0}))}}]),t}(a.Component);var E=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.13dbfd30.chunk.js.map